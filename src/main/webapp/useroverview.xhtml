<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <script name="jquery/jquery.js" library="primefaces"></script>
    <title>User Overview</title>
</h:head>
<h:body>

    <ui:composition template="/layout.xhtml">
        <ui:define name="content">
            <h:form>
                <p:dataTable var="user" value="#{usersController.getUsers()}">
                    <p:column headerText="First name">
                        <h:outputText value="#{user.firstName}"/>
                    </p:column>

                    <p:column headerText="Last name">
                        <h:outputText value="#{user.getLastName()}"/>
                    </p:column>

                    <p:column headerText="Email">
                        <h:outputText value="#{user.email}"/>
                    </p:column>

                    <p:column headerText="Telephone">
                        <h:outputText value="#{user.tel}"/>
                    </p:column>

                    <p:column headerText="Date of Birth">
                        <h:outputText value="#{user.dob}"/>
                    </p:column>

                    <!--<p:column headerText="Update User">-->
                        <!--<p:commandButton value="Update" id="updateUser"-->
                                         <!--action="#{usersController.getUserById(user.id)}" ajax="false"/>-->
                    <!--</p:column>-->

                    <p:column headerText="Update User">
                        <p:commandButton value="Update" id="updateUser2" styleClass="btn btn-danger"
                                         action="#{usersController.toUpdatePage(user.id)}" ajax="false"/>
                    </p:column>

                    <p:link outcome="userregistration" value="Bookmark">
                        <f:param name="productId" value="10"/>
                    </p:link>

                    <p:column headerText="Delete User">
                        <p:commandButton value="Delete" id="deleteUser" styleClass="btn btn-danger"
                                         actionListener="#{usersController.deleteUserById(user.id)}" update="@form"/>
                    </p:column>
                </p:dataTable>

                <input type="hidden"  name="${_csrf.parameterName}"   value="${_csrf.token}"/>

            </h:form>
        </ui:define>
    </ui:composition>


    <br/>
    <br/>
    <br/>
    <div>
    <!--<h:form>-->

        <!--<p:dataTable var="user" value="#{userController.getUserById('1')}">-->
            <!--<p:column headerText="First name">-->
                <!--<h:outputText value="#{user.firstName}"/>-->
            <!--</p:column>-->

            <!--<p:column headerText="Last name">-->
                <!--<h:outputText value="#{user.lastName}"/>-->
            <!--</p:column>-->

            <!--<p:column headerText="Email">-->
                <!--<h:outputText value="#{user.email}"/>-->
            <!--</p:column>-->

            <!--<p:column headerText="Telephone">-->
                <!--<h:outputText value="#{user.tel}"/>-->
            <!--</p:column>-->

            <!--<p:column headerText="Date of Birth">-->
                <!--<h:outputText value="#{user.dob}"/>-->
            <!--</p:column>-->

            <!--<p:column headerText="Delete User">-->
                <!--<p:commandButton value="Delete"-->
                                 <!--actionListener="#{userController.deleteUserById()}" update="@form" />-->
            <!--</p:column>-->

        <!--</p:dataTable>-->

    <!--</h:form>-->
    </div>
</h:body>
</html>